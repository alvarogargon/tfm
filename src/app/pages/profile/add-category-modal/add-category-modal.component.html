<div class="modal-overlay">
  <div class="modal-content">
    <h3>Añadir Categoría</h3>
    <form [formGroup]="addCategoryForm" (ngSubmit)="onSubmit()">
      <!-- Name -->
      <div class="input-wrapper">
        <span class="icon icon-left">
          <svg height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 3h18v18H3V3zm2 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z" fill="#0D0D0D"/>
          </svg>
        </span>
        <input type="text" class="input" formControlName="name" placeholder="Nombre de la categoría" aria-label="Nombre de la categoría">
        <label class="label">Nombre</label>
        @if (addCategoryForm.get('name')?.invalid && addCategoryForm.get('name')?.touched) {
          <span class="error-text" [attr.aria-live]="'polite'">El nombre es obligatorio y debe tener al menos 3 caracteres.</span>
        }
      </div>

      <!-- Color -->
      <div class="input-wrapper">
        <span class="icon icon-left">
          <svg height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2a10 10 0 0 0-10 10c0 4.42 2.87 8.17 6.84 9.5.5.16.82-.34.66-.84-.84-2.67-.17-5.47 1.16-7.5 1.33-2.03 3.33-3.33 5.34-3.33 2.01 0 3.67 1.34 4.34 3.33.5 1.5.83 3.17.83 4.84 0 .5.33 1 .83 1.17.5.17 1-.17 1.17-.67A10 10 0 0 0 12 2zm-2 16a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" fill="#0D0D0D"/>
          </svg>
        </span>
        <input type="color" class="input" formControlName="color" aria-label="Color de la categoría">
        <label class="label">Color</label>
      </div>

      <!-- Icon -->
      <div class="input-wrapper">
        <span class="icon icon-left">
          <svg height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2a10 10 0 0 0-10 10c0 4.42 2.87 8.17 6.84 9.5.5.16.82-.34.66-.84-.84-2.67-.17-5.47 1.16-7.5 1.33-2.03 3.33-3.33 5.34-3.33 2.01 0 3.67 1.34 4.34 3.33.5 1.5.83 3.17.83 4.84 0 .5.33 1 .83 1.17.5.17 1-.17 1.17-.67A10 10 0 0 0 12 2zm-2 16a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" fill="#0D0D0D"/>
          </svg>
        </span>
        <input type="text" class="input" formControlName="icon" placeholder="Ícono (ej. meditation.png)" aria-label="Ícono de la categoría">
        <label class="label">Ícono</label>
      </div>

      <!-- Description -->
      <div class="input-wrapper">
        <span class="icon icon-left">
          <svg height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 3h18v18H3V3zm2 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z" fill="#0D0D0D"/>
          </svg>
        </span>
        <textarea class="input" formControlName="description" placeholder="Descripción de la categoría" aria-label="Descripción de la categoría"></textarea>
        <label class="label">Descripción</label>
      </div>

      <!-- Form Footer -->
      <div class="modal-footer">
        <button class="button-submit" type="submit" [disabled]="addCategoryForm.invalid" [attr.aria-disabled]="addCategoryForm.invalid">Crear Categoría</button>
        <button type="button" class="button-close" (click)="closeModal()">Cerrar</button>
      </div>
    </form>
  </div>
</div>